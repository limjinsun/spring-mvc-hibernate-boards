<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">

<head>
<meta charset="UTF-8">
<meta name="viewport" content="initial-scale=1, maximum-scale=1">

<title>Login Signup Form</title>

<!-- Favicons and -- For iPhone -->
<link rel="icon" th:href="@{'/resources/images/favicon.ico'}" sizes="32x32">
<link rel="apple-touch-icon-precomposed" th:href="@{'/resources/images/favicon.ico'}">
<meta name="msapplication-TileColor" content="#00bcd4">
<meta name="msapplication-TileImage" th:href="@{'/resources/images/favicon.ico'}">

<!-- css setting -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css" type="text/css">
<link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.2.0/css/font-awesome.min.css' type="text/css">
<link rel="stylesheet" th:href="@{'/resources/css/style.css'}" type="text/css">
<link rel="stylesheet" th:href="@{'/resources/css/main.css'}" type="text/css">
<link rel="stylesheet" th:href="@{'/resources/css/font-poppins.css'}" type="text/css">
</head>

<body>
	<nav class="main-nav">
	
<!-- 		
		It wasn't triggered. why??
		<div sec:authorize="isAuthenticated()">You are already loged in.</div>
 -->		
		
		<ul>
			<li>
				<a class="signin" href="#0">Sign in</a>
			</li>
			<li>
				<a class="signup" href="#0">Sign up</a>
			</li>
		</ul>
	</nav>

	<div class="user-modal">
		<div class="user-modal-container">
			<ul class="switcher">
				<li>
					<a href="#0">Sign in</a>
				</li>

				<li>
					<a href="#0">New account</a>
				</li>
			</ul>

			<div id="login">
				<form th:action="@{'/validateLogin'}" method='POST' class="form">

					<div class="input-group fieldset">
						<div class="row row-space">
							<div class="col-2">
								<div class="p-t-15">
									<a href="https://google.com" class="btn btn--radius-2 btn--blue btn--full">Facebook</a>
								</div>
							</div>

							<div class="col-2">
								<div class="p-t-15">
									<a href="https://naver.com" class="btn btn--radius-2 btn--green btn--full">Naver</a>
								</div>
							</div>
						</div>
					</div>

					<div class="input-group fieldset">
						<p class="">
							<label class="image-replace email" for="signin-email">E-mail</label>
							<input class="full-width has-padding has-border" id="username" name="username" type="email" placeholder="E-mail" />
							<span class="error-message">An account with this email address does not exist!</span>
						</p>
					</div>

					<div class="input-group fieldset">
						<p class="">
							<label class="image-replace password" for="signin-password">Password</label>
							<input class="full-width has-padding has-border" id="password" name="password" type="password" placeholder="Password" />
							<a href="#0" class="hide-password">Show</a>
							<span class="error-message">Wrong password! Try again.</span>
						</p>
					</div>

					<div class="input-group fieldset">
						<p class="">
							<input type="checkbox" id="remember-me" checked />
							<label for="remember-me">Remember me</label>
						</p>
					</div>

					<!-- <div>
						<p th:if="${param.error != null}" class="error-message">Invalid username and password.</p>
						<p th:if="${param.logout != null}" class="error-message">You have been logged out.</p>
					</div> -->

					<div class="input-group">
						<p class="fieldset">
							<input class="full-width" type="submit" value="Login" />
						</p>
					</div>

					<!-- prevent SCRF attack! -->
					<input type="hidden" name="${_csrf.parameterName}" value="${_csrf.token}" /> 

				</form>

				<p class="form-bottom-message">
					<a href="#0">Forgot your password?</a>
				</p>
				<!-- <a href="#0" class="close-form">Close</a> -->
			</div>

			<div id="signup">
				<form th:action="@{/register}" th:object="${user}" method="post" class="form">

					<div class="">
						<div class="row row-space">
							<div class="col-2">
								<div class="fieldset" style="margin: 0;">
									<label class="image-replace username" for="signup-username">FirstName</label>
									<input class="full-width has-padding has-border" id="fname" th:field="*{fname}" type="text" placeholder="First Name">
									<span class="error-message">Your username can only contain numeric and alphabetic symbols!</span>
								</div>
							</div>

							<div class="col-2" style="margin-bottom: 0;">
								<div class="fieldset" style="margin: 0;">
									<label class="image-replace username" for="signup-username">LastName</label>
									<input class="full-width has-padding has-border" id="lname" th:field="*{lname}" type="text" placeholder="Last Name">
									<span class="error-message">Your username can only contain numeric and alphabetic symbols!</span>
								</div>
							</div>
						</div>
					</div>

					<div class="fieldset">
						<label class="image-replace email" for="signup-email">E-mail</label>
						<input class="full-width has-padding has-border" id="email" th:field="*{email}" type="email" placeholder="E-mail">
						<span class="error-message">Enter a valid email address!</span>
					</div>

					<div class="fieldset">
						<label class="image-replace password" for="signup-password">Password</label>
						<input class="full-width has-padding has-border" id="password_reg" th:field="*{password}" type="password" placeholder="Password">
						<a href="#0" class="hide-password">Show</a>
						<span class="error-message">Your password has to be at least 6 characters long!</span>
					</div>

					<div class="fieldset">
						<label class="image-replace password" for="signup-password">Password</label>
						<input class="full-width has-padding has-border" id="confirmPassword" th:field="*{passwordConfirm}" type="password" placeholder="Confirm Password">
						<a href="#0" class="hide-password">Show</a>
						<span class="error-message">Your password has to be at least 6 characters long!</span>
					</div>

					<div class="fieldset">
						<input type="checkbox" id="accept-terms">
						<label for="accept-terms">
							I agree to the
							<a class="accept-terms" href="#0">Terms</a>
						</label>
					</div>

					<div class="fieldset">
						<input class="full-width has-padding" type="submit" value="Create account">
					</div>
					
				</form>
				<!-- <a href="#0" class="cd-close-form">Close</a> -->
			</div>

			<div id="reset-password">
				<p class="form-message">
					Lost your password? Please enter your email address.
					<br>
					You will receive a link to create a new password.
				</p>

				<form class="form">
					<p class="fieldset">
						<label class="image-replace email" for="reset-email">E-mail</label>
						<input class="full-width has-padding has-border" id="reset-email" type="email" placeholder="E-mail">
						<span class="error-message">An account with this email does not exist!</span>
					</p>

					<p class="fieldset">
						<input class="full-width has-padding" type="submit" value="Reset password">
					</p>
				</form>

				<p class="form-bottom-message">
					<a href="#0">Back to log-in</a>
				</p>
			</div>
			<!-- <a href="#0" class="close-form">Close</a> -->
		</div>
	</div>

	<script th:src="@{'https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'}" type="text/javascript"></script>
	<script th:src="@{'/resources/js/index.js'}" type="text/javascript"></script>

</body>
</html>
